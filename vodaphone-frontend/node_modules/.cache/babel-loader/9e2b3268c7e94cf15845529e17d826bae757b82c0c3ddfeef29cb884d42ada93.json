{"ast":null,"code":"var _jsxFileName = \"/home/tim/Documents/M1 DEV FULL STACK/PROJET FIL ROUGE/vodaphone-frontend/src/pages/ChangePassword.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport api from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChangePassword() {\n  _s();\n  const [oldPassword, setOldPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setMsg(\"\");\n    setErr(\"\");\n    try {\n      const token = localStorage.getItem(\"token\");\n      await api.patch(\"/user/password\", {\n        oldPassword,\n        newPassword\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setMsg(\"Mot de passe mis à jour !\");\n      setOldPassword(\"\");\n      setNewPassword(\"\");\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setErr(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Erreur\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 400,\n      margin: \"40px auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Changer le mot de passe\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Ancien mot de passe\",\n        value: oldPassword,\n        onChange: e => setOldPassword(e.target.value),\n        required: true,\n        style: {\n          display: \"block\",\n          marginBottom: 10,\n          width: \"100%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Nouveau mot de passe\",\n        value: newPassword,\n        onChange: e => setNewPassword(e.target.value),\n        required: true,\n        style: {\n          display: \"block\",\n          marginBottom: 10,\n          width: \"100%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Changer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), msg && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"green\"\n      },\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }, this), err && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n_s(ChangePassword, \"Xi/XvYtNoAmcg169Sy2hoI9pixQ=\");\n_c = ChangePassword;\nvar _c;\n$RefreshReg$(_c, \"ChangePassword\");","map":{"version":3,"names":["useState","api","jsxDEV","_jsxDEV","ChangePassword","_s","oldPassword","setOldPassword","newPassword","setNewPassword","msg","setMsg","err","setErr","handleSubmit","e","preventDefault","token","localStorage","getItem","patch","headers","Authorization","error","_error$response","_error$response$data","response","data","message","style","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","display","marginBottom","width","color","_c","$RefreshReg$"],"sources":["/home/tim/Documents/M1 DEV FULL STACK/PROJET FIL ROUGE/vodaphone-frontend/src/pages/ChangePassword.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport api from \"../api\";\n\nexport default function ChangePassword() {\n  const [oldPassword, setOldPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMsg(\"\"); setErr(\"\");\n    try {\n      const token = localStorage.getItem(\"token\");\n      await api.patch(\n        \"/user/password\",\n        { oldPassword, newPassword },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      setMsg(\"Mot de passe mis à jour !\");\n      setOldPassword(\"\"); setNewPassword(\"\");\n    } catch (error) {\n      setErr(error.response?.data?.message || \"Erreur\");\n    }\n  };\n\n  return (\n    <div style={{ maxWidth: 400, margin: \"40px auto\" }}>\n      <h2>Changer le mot de passe</h2>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"password\"\n          placeholder=\"Ancien mot de passe\"\n          value={oldPassword}\n          onChange={(e) => setOldPassword(e.target.value)}\n          required\n          style={{ display: \"block\", marginBottom: 10, width: \"100%\" }}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Nouveau mot de passe\"\n          value={newPassword}\n          onChange={(e) => setNewPassword(e.target.value)}\n          required\n          style={{ display: \"block\", marginBottom: 10, width: \"100%\" }}\n        />\n        <button type=\"submit\">Changer</button>\n      </form>\n      {msg && <p style={{ color: \"green\" }}>{msg}</p>}\n      {err && <p style={{ color: \"red\" }}>{err}</p>}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}